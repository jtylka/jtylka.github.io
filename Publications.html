<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>Joseph G. Tylka | Research Scientist</title>
	<link href="styles.css" rel="stylesheet" type="text/css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
</head>
<body>

<!-- Title -->
<div id="header">

<h1>Joseph G. Tylka</h1>

</div>

<!-- Navigation Menu -->
<div id="menu">

<table style="margin: 0 auto;">
	<tr>
		<th><a class="menu" href=".">Home</a></th>
		<th><a class="menu" href="Projects.html">Projects</a></th>
		<th><a class="menu" href="Publications.html"><b>Publications</b></a></th>
	</tr>
</table>

</div>

<!-- Main Section -->
<div id="content">

<!-- Page Title -->
<h2>Publications</h2>

<!-- Page Content -->
<table style="margin: 0 auto;" id="publications_table">
	<tr style="background-color: #FBC008;">
		<th style="width:300px">Title</th><th style="width:75px">Year</th>
	</tr>
	<script>
	$(document).ready(function(){
	  $.ajax({
	    type: "GET",
	    url: "Documents/Tylka_Publications.bib",
	    dataType: "text",
	    success: function(data){
	      $("#publications_table").append(printTable(parseBib(data)));
	    }
	  });
	});

	function parseBib(file){
		var entries = file.split("\n@");
		var bibArray = [];
		for (var ii=0; ii<entries.length; ii++){
			var entry = entries[ii];
			var entrytitle = trimBounds(pullBibItem(entry,"title = "));
			var entryyear = trimBounds(pullBibItem(entry,"year = "));
			var entryurl = trimBounds(pullBibItem(entry,"url = "));
			bibArray[ii] = [entrytitle, entryyear, entryurl];
		}
		return bibArray;
	}

	function pullBibItem(str,key){
		var pos1 = str.indexOf(key);
		if (pos1 == -1) {
			return "";
		}
		var pos2 = str.indexOf(",\n",pos1);
		var item = str.slice(pos1+key.length,pos2);
		return item.trim();
	}

	function trimBounds(str){
		var pos1 = 0;
		var pos1 = Math.max(0, str.indexOf('{'), str.indexOf('"'));
		if (pos1 <= 3)
		{
			str = str.slice(pos1+1,str.length);
		}

		var pos2 = Math.min(str.length, str.lastIndexOf('}'), str.lastIndexOf('"'));
		if (pos2 >= (str.length - 3))
		{
			str = str.slice(0,pos2);
		}
		return str;
	}

	function printTable(array){
		var htmlOut = '';
		for (var ii=0; ii<array.length; ii++){
			htmlOut = htmlOut + '<tr><td><a href="' + array[ii][2] + '" target="_blank">' + array[ii][0] + '</a></td><td>' + array[ii][1] + '</td></tr>\n';
		}
		return htmlOut;
	}
	</script>
</table>

<p>This table is auto-generated from this <a href="Documents/Tylka_Publications.bib" target="_blank">BibTeX</a> file. (Last updated March 15<sup>th</sup>, 2017)</p>

</div>

<!-- Contact Information -->
<div id="footer">

<table style="margin: 0 auto;">
	<tr>
		<script>
			mailPreFix = 'josephgt'
			mailDomain = 'alumni.princeton.edu'
			mailAddr = (mailPreFix + '@' + mailDomain)
			document.write('<th><a class="contact" href="mailto:' + mailAddr + '">Email</a></th>')
		</script>
		<th><a class="contact" href="https://github.com/jtylka" target="_blank">GitHub</a></th>
		<th><a class="contact" href="https://www.linkedin.com/in/josephgtylka/" target="_blank">LinkedIn</a></th>
		<th><a class="contact" href="https://scholar.google.com/citations?hl=en&user=amf5PKAAAAAJ&view_op=list_works&sortby=pubdate" target="_blank">Scholar</a></th>
	</tr>
</table>

</div>

</body>
</html>
